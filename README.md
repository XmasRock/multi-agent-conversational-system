# ü§ñ Syst√®me Multi-Agents Conversationnel

Architecture distribu√©e open-source pour cr√©er un agent conversationnel intelligent avec vision, audio, orchestration multi-agents et LLM interchangeables via Ollama.

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![Ollama](https://img.shields.io/badge/Ollama-Ready-blue)](https://ollama.com/)

## üéØ Fonctionnalit√©s

### ü§ñ Intelligence Artificielle
- **üß† LLM Interchangeables** : Ollama (Llama 3.1, Mistral, Phi-3, Gemma 2, Qwen)
- **üîÑ Hot-swap Mod√®les** : Changez de LLM sans red√©marrer
- **üíæ M√©moire Longue Dur√©e** : ChromaDB pour conversations persistantes
- **üéØ Contexte Partag√©** : MCP (Model Context Protocol) pour coordination agents

### üëÅÔ∏è Perception
- **üìπ Vision par Ordinateur** : YOLOv11 pour d√©tection temps r√©el
- **üë§ Reconnaissance Faciale** : InsightFace avec base de visages personnalisable
- **üé§ Reconnaissance Vocale** : Whisper STT (fran√ßais, multilingue)
- **üîä Synth√®se Vocale** : Piper TTS (voix naturelle fran√ßaise)

### üîÑ Orchestration
- **üìä n8n AI Agent** : Workflows visuels intelligents
- **üåê Architecture Distribu√©e** : Raspberry Pi (hub) + Jetson (edge)
- **üì° Communication Temps R√©el** : WebSocket, MQTT, REST API
- **üîå Reconnexion Automatique** : R√©silience r√©seau compl√®te

### ‚ö° Actions
- ‚úâÔ∏è Envoi d'emails
- üîç Recherches web
- üìÖ Gestion calendrier
- üè† Contr√¥le domotique (extensible)

---

## üèóÔ∏è Architecture
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           RASPBERRY PI 5 (Hub Central)                ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  n8n AI Agent                                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Orchestration workflows                    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Coordination agents                        ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - LLM via Ollama (Jetson)                    ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  MCP Server                                   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Contexte partag√©                           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - M√©moire conversationnelle                  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - √âtat global agents                         ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  [PostgreSQL] [Redis] [ChromaDB] [MQTT] [Grafana]    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚Üï WebSocket/MQTT/REST
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         JETSON ORIN NANO SUPER (Edge AI)              ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  Ollama Server                                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Llama 3.1 8B (d√©faut)                      ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Mistral 7B, Phi-3, Gemma 2, Qwen          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - API OpenAI-compatible                      ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Hot-swap mod√®les                           ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                         ‚Üï                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ   Vision    ‚îÇ  ‚îÇ    Audio    ‚îÇ  ‚îÇ   Actions   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   Agent     ‚îÇ  ‚îÇ    Agent    ‚îÇ  ‚îÇ   Agent     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ             ‚îÇ  ‚îÇ             ‚îÇ  ‚îÇ             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  YOLOv11    ‚îÇ  ‚îÇ  Whisper    ‚îÇ  ‚îÇ  Executor   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  InsightFace‚îÇ  ‚îÇ  Piper TTS  ‚îÇ  ‚îÇ  Local      ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  [MCP Client] [MQTT Client] [API Server]              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìã Pr√©requis

### üíª Mat√©riel Recommand√©

| Composant | Sp√©cification | Prix |
|-----------|---------------|------|
| **Jetson Orin Nano Super** | 8GB RAM, 1024 CUDA cores | Poss√©d√© ‚úÖ |
| **Raspberry Pi 5** | 8GB RAM recommand√© | ~100‚Ç¨ |
| **Cam√©ra** | Raspberry Pi Camera (CSI) ou USB | Poss√©d√© ‚úÖ |
| **Microphone** | USB (ReSpeaker recommand√©) | ~25‚Ç¨ |
| **Enceinte** | Bluetooth/USB | Poss√©d√© ‚úÖ |
| **SSD Jetson** | NVMe 512GB | ~45‚Ç¨ |
| **SSD Raspberry** | USB 3.0 256GB | ~35‚Ç¨ |

**Total additionnel : ~240‚Ç¨**

### üñ•Ô∏è Logiciel

**Jetson :**
- JetPack 6.0+
- Ubuntu 22.04
- Python 3.11+
- Ollama

**Raspberry Pi :**
- Raspberry Pi OS 64-bit ou Ubuntu 22.04
- Docker & Docker Compose
- Python 3.11+

---

## üöÄ Installation

### üì¶ 1. Raspberry Pi - Hub Central
```bash
# Cloner le projet
git clone https://github.com/VOTRE_USERNAME/multi-agent-system.git
cd multi-agent-system/raspberry-pi

# Configurer environnement
cp .env.example .env
nano .env
# √âditer :
# - RASPBERRY_PI_IP=192.168.1.XXX (votre IP)
# - JETSON_IP=192.168.1.XXX (IP du Jetson)
# - Mots de passe s√©curis√©s

# Installer Docker (si n√©cessaire)
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER
# D√©connexion/reconnexion requise

# Lancer les services
docker-compose up -d

# V√©rifier statut
docker-compose ps
docker-compose logs -f

# Acc√®s aux interfaces :
# - n8n : http://raspberry-pi-ip:5678
# - MCP Server : http://raspberry-pi-ip:8080
# - Grafana : http://raspberry-pi-ip:3000
# - ChromaDB : http://raspberry-pi-ip:8000
```

### ü§ñ 2. Jetson Orin Nano - Agent Edge
```bash
# Mettre √† jour le syst√®me
sudo apt update && sudo apt upgrade -y
sudo apt install -y python3-pip python3-venv git

# Cloner le projet
cd ~
git clone https://github.com/VOTRE_USERNAME/multi-agent-system.git
cd multi-agent-system/jetson

# Installer Ollama
curl -fsSL https://ollama.com/install.sh | sh

# T√©l√©charger mod√®les LLM (choisir selon besoins)
# Llama 3.1 8B (Recommand√© - √©quilibr√©)
ollama pull llama3.1:8b

# Ou alternatives :
# ollama pull mistral:7b        # Rapide et efficace
# ollama pull phi3:medium       # Ultra-l√©ger (2.3GB)
# ollama pull gemma2:9b         # Google, excellent fran√ßais
# ollama pull qwen2.5:7b        # Multilingue excellent

# Lister mod√®les install√©s
ollama list

# Cr√©er environnement virtuel Python
python3 -m venv venv
source venv/bin/activate

# Installer d√©pendances Python
pip install --upgrade pip
pip install -r requirements.txt

# Installer llama.cpp (pour Whisper.cpp)
cd ~
git clone https://github.com/ggerganov/llama.cpp
cd llama.cpp
mkdir build && cd build
cmake .. -DLLAMA_CUDA=ON
make -j$(nproc)

# Installer Whisper.cpp
cd ~
git clone https://github.com/ggerganov/whisper.cpp
cd whisper.cpp
make -j$(nproc)
# T√©l√©charger mod√®le Whisper
bash ./models/download-ggml-model.sh medium

# Installer Piper TTS
pip install piper-tts
# T√©l√©charger voix fran√ßaise
mkdir -p ~/multi-agent-system/jetson/models/piper
cd ~/multi-agent-system/jetson/models/piper
wget https://huggingface.co/rhasspy/piper-voices/resolve/main/fr/fr_FR/siwis/medium/fr_FR-siwis-medium.onnx
wget https://huggingface.co/rhasspy/piper-voices/resolve/main/fr/fr_FR/siwis/medium/fr_FR-siwis-medium.onnx.json

# Configuration
cd ~/multi-agent-system/jetson
cp config.example.yml config.yml
nano config.yml
# √âditer :
# - raspberry_pi_ip: "192.168.1.XXX"
# - jetson_ip: "192.168.1.XXX"
# - Choisir mod√®le Ollama

# Configurer Bluetooth (pour enceinte)
sudo apt install -y bluez pulseaudio-module-bluetooth
# Pairage enceinte :
bluetoothctl
# > power on
# > agent on
# > scan on
# > pair AA:BB:CC:DD:EE:FF
# > trust AA:BB:CC:DD:EE:FF
# > connect AA:BB:CC:DD:EE:FF
# > exit

# T√©l√©charger YOLOv11
cd ~/multi-agent-system/jetson
python3 << EOF
from ultralytics import YOLO
model = YOLO('yolo11n.pt')
model.export(format='engine', device=0, half=True)
import shutil
shutil.move('yolo11n.engine', 'models/yolo11n.engine')
print("‚úÖ YOLOv11 export√©")
EOF

# Test rapide
python3 -c "from modules.vision_agent import VisionAgent; print('‚úÖ Vision OK')"
python3 -c "from modules.audio_agent import AudioAgent; print('‚úÖ Audio OK')"
python3 -c "from modules.llm_agent import LLMAgent; print('‚úÖ LLM OK')"

# Lancer l'agent
python3 main.py
```

### üîß 3. Configuration n8n
```bash
# Acc√©der √† n8n : http://raspberry-pi-ip:5678

# 1. Cr√©er compte admin

# 2. Configurer Credentials :

# Credential: Jetson LLM (OpenAI compatible)
- Name: Jetson Ollama
- API Key: dummy-key
- Base URL: http://jetson-ip:8001/v1

# Credential: ChromaDB
- URL: http://chromadb:8000
- Auth Token: (votre CHROMA_TOKEN du .env)

# Credential: MQTT
- Protocol: mqtt://
- Host: mqtt
- Port: 1883

# Credential: SMTP (pour emails)
- Host: smtp.gmail.com
- Port: 587
- User: votre-email@gmail.com
- Password: app-password-gmail

# 3. Importer workflows
# Settings > Workflows > Import from File
# Importer les fichiers depuis raspberry-pi/n8n/workflows/
```

### üîÑ 4. Configurer comme Service (Jetson)
```bash
# Cr√©er service systemd
sudo nano /etc/systemd/system/jetson-agent.service
```
```ini
[Unit]
Description=Jetson Conversational Agent
After=network-online.target ollama.service
Wants=network-online.target

[Service]
Type=simple
User=jetson
WorkingDirectory=/home/jetson/multi-agent-system/jetson
Environment="PATH=/home/jetson/multi-agent-system/jetson/venv/bin"
ExecStart=/home/jetson/multi-agent-system/jetson/venv/bin/python main.py

Restart=always
RestartSec=10
StartLimitInterval=200
StartLimitBurst=5

StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
```
```bash
# Activer et d√©marrer
sudo systemctl daemon-reload
sudo systemctl enable jetson-agent
sudo systemctl start jetson-agent

# V√©rifier statut
sudo systemctl status jetson-agent

# Voir logs
sudo journalctl -u jetson-agent -f
```

---

## üéÆ Utilisation

### üí¨ Sc√©nario 1 : Conversation Simple
```
Utilisateur : "Bonjour, qui suis-je ?"

Syst√®me :
1. üëÅÔ∏è Vision d√©tecte et reconna√Æt votre visage
2. üé§ Audio transcrit votre voix (Whisper)
3. üì° Contexte envoy√© au MCP Server
4. üß† n8n AI Agent g√©n√®re r√©ponse (Ollama/Llama 3.1)
5. üîä R√©ponse synth√©tis√©e (Piper TTS)
6. üíæ Conversation sauvegard√©e (ChromaDB)

Agent : "Bonjour Pierre ! Comment puis-je vous aider ?"
```

### üìß Sc√©nario 2 : Envoi Email
```
Utilisateur : "Envoie un email √† Jean"

Agent : "Quel est le sujet de l'email ?"

Utilisateur : "R√©union demain"

Agent : "Que voulez-vous dire dans le message ?"

Utilisateur : "Confirmer r√©union 10h"

Syst√®me :
1. ü§ñ n8n AI Agent d√©tecte intention email
2. üîç Recherche contact "Jean" dans MCP
3. ‚úâÔ∏è Workflow Email Agent envoie le message
4. üìä Action logu√©e dans MCP

Agent : "Email envoy√© √† Jean Dupont avec succ√®s !"
```

### üîÑ Changer de Mod√®le LLM
```bash
# M√©thode 1 : Ollama CLI
ollama pull mistral:7b
# Puis red√©marrer agent ou via API

# M√©thode 2 : API REST
curl -X POST http://jetson-ip:8000/switch-model \
  -H "Content-Type: application/json" \
  -d '{"model": "mistral:7b"}'

# M√©thode 3 : Commande vocale (si impl√©ment√©e)
Utilisateur : "Change le mod√®le pour Mistral"
```

### üìä Mod√®les LLM Disponibles

| Mod√®le | Taille | RAM | Vitesse | Usage |
|--------|--------|-----|---------|-------|
| **llama3.1:8b** | 4.7GB | ~6GB | Moyen | Recommand√© - √âquilibr√© |
| **mistral:7b** | 4.1GB | ~5GB | Rapide | Conversations rapides |
| **phi3:medium** | 2.3GB | ~3GB | Ultra-rapide | R√©ponses courtes |
| **gemma2:9b** | 5.4GB | ~7GB | Moyen | Excellent fran√ßais |
| **qwen2.5:7b** | 4.4GB | ~6GB | Rapide | Multilingue |

---

## üîß Configuration

### üìù Variables d'Environnement (Raspberry Pi)
```bash
# raspberry-pi/.env

# IPs
RASPBERRY_PI_IP=192.168.1.100
JETSON_IP=192.168.1.101

# n8n
N8N_USER=admin
N8N_PASSWORD=VotreMotDePasseSecurise123!

# PostgreSQL
POSTGRES_PASSWORD=VotreMotDePassePostgres456!

# ChromaDB
CHROMA_TOKEN=VotreTokenChroma789!

# Grafana
GRAFANA_PASSWORD=admin

# Timezone
TZ=Europe/Paris
```

### ‚öôÔ∏è Configuration Jetson
```yaml
# jetson/config.yml

network:
  raspberry_pi_ip: "192.168.1.100"
  jetson_ip: "192.168.1.101"

modules:
  llm:
    enabled: true
    engine: "ollama"
    ollama:
      host: "localhost"
      port: 11434
      model: "llama3.1:8b"  # Mod√®le par d√©faut
      temperature: 0.7
      num_ctx: 8192
    api_server:
      enabled: true
      port: 8001

  vision:
    enabled: true
    camera:
      type: "csi"  # ou "usb"
      device: 0

  audio:
    enabled: true
    speaker:
      device: "pulse"  # Pour Bluetooth
```

---

## üß™ Tests

### ‚úÖ Test Complet du Syst√®me
```bash
# 1. V√©rifier services Raspberry Pi
curl http://raspberry-pi-ip:8080/health  # MCP Server
curl http://raspberry-pi-ip:5678        # n8n

# 2. V√©rifier Jetson
curl http://jetson-ip:8000/status       # Agent
curl http://jetson-ip:8001/health       # LLM Server
curl http://jetson-ip:11434/api/tags    # Ollama

# 3. Test LLM
curl -X POST http://jetson-ip:8001/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{
    "model": "llama3.1:8b",
    "messages": [{"role": "user", "content": "Bonjour"}]
  }'

# 4. Test workflow complet
curl -X POST http://raspberry-pi-ip:5678/webhook/agent-input \
  -H "Content-Type: application/json" \
  -d '{
    "text": "Bonjour, comment vas-tu ?",
    "user_identity": "Test User"
  }'
```

---

## üìä Monitoring

### üéõÔ∏è Dashboards Disponibles

- **Grafana** : http://raspberry-pi-ip:3000 (admin/admin)
- **n8n** : http://raspberry-pi-ip:5678
- **MCP Stats** : http://raspberry-pi-ip:8080/stats
- **Prometheus** : http://raspberry-pi-ip:9090

### üìù Logs
```bash
# Raspberry Pi
docker logs -f mcp-server
docker logs -f n8n
docker-compose logs -f

# Jetson
tail -f ~/multi-agent-system/jetson/logs/agent.log
sudo journalctl -u jetson-agent -f
```

---

## üí∞ Co√ªts

### üíµ Budget Total
```
MAT√âRIEL POSS√âD√â :
‚úÖ Jetson Orin Nano Super : 0‚Ç¨
‚úÖ Cam√©ra Raspberry Pi : 0‚Ç¨
‚úÖ Enceinte Bluetooth : 0‚Ç¨

MAT√âRIEL √Ä ACHETER :
- Raspberry Pi 5 (8GB) : ~100‚Ç¨
- SSD NVMe 512GB (Jetson) : ~45‚Ç¨
- SSD USB 256GB (RPi) : ~35‚Ç¨
- Microphone USB : ~25‚Ç¨
- Bo√Ætier + accessoires : ~35‚Ç¨

TOTAL : ~240‚Ç¨

LOGICIELS : 0‚Ç¨ (100% open source)

√âLECTRICIT√â :
- Jetson (15W moyen) : ~35‚Ç¨/an
- RPi 5 (10W moyen) : ~20‚Ç¨/an
- Total : ~55‚Ç¨/an

COMPARAISON CLOUD (5 ans) :
- OpenAI + APIs : 9000-28000‚Ç¨
- Notre solution : 240‚Ç¨ + 275‚Ç¨ = 515‚Ç¨
- √âCONOMIE : 8485-27485‚Ç¨ ! üéâ
```

---

## üîß D√©pannage

### ‚ùå Probl√®mes Courants

#### MCP Server ne d√©marre pas
```bash
docker logs mcp-server
docker-compose restart postgres redis mcp-server
```

#### Jetson ne se connecte pas au MCP
```bash
# V√©rifier r√©seau
ping raspberry-pi-ip

# V√©rifier config
cat ~/multi-agent-system/jetson/config.yml | grep raspberry_pi_ip

# Tester WebSocket
wscat -c ws://raspberry-pi-ip:8081/ws/agent/test
```

#### Ollama ne r√©pond pas
```bash
# Red√©marrer Ollama
sudo systemctl restart ollama

# V√©rifier mod√®les
ollama list

# T√©l√©charger √† nouveau
ollama pull llama3.1:8b

# Tester directement
ollama run llama3.1:8b "Test"
```

#### Audio ne fonctionne pas
```bash
# Lister devices
arecord -l  # Microphones
aplay -l    # Speakers

# Tester micro
arecord -d 3 test.wav && aplay test.wav

# Tester TTS
echo "Test" | piper --model fr_FR-siwis-medium --output_file test.wav
paplay test.wav
```

---

## ü§ù Contribution

Les contributions sont bienvenues ! Pour contribuer :

1. Fork le projet
2. Cr√©er une branche (`git checkout -b feature/amelioration`)
3. Commit (`git commit -m 'Ajout fonctionnalit√©'`)
4. Push (`git push origin feature/amelioration`)
5. Ouvrir une Pull Request

---

## üìù License

MIT License - voir [LICENSE](LICENSE)

Vous √™tes libre d'utiliser, modifier et distribuer ce projet.

---

## üôè Remerciements

Ce projet utilise ces excellents outils open source :

- [Ollama](https://ollama.com/) - Gestion LLM simplifi√©e
- [Ultralytics YOLOv11](https://github.com/ultralytics/ultralytics) - D√©tection objets
- [Whisper.cpp](https://github.com/ggerganov/whisper.cpp) - Speech-to-Text
- [Piper TTS](https://github.com/rhasspy/piper) - Text-to-Speech
- [n8n](https://github.com/n8n-io/n8n) - Orchestration workflows
- [InsightFace](https://github.com/deepinsight/insightface) - Reconnaissance faciale
- [ChromaDB](https://github.com/chroma-core/chroma) - Base vectorielle
- [FastAPI](https://github.com/tiangolo/fastapi) - Framework API

---

## üìû Support

- üêõ **Bugs** : [Ouvrir une issue](https://github.com/VOTRE_USERNAME/multi-agent-system/issues)
- üí¨ **Questions** : [Discussions GitHub](https://github.com/VOTRE_USERNAME/multi-agent-system/discussions)
- üìñ **Documentation** : [Wiki](https://github.com/VOTRE_USERNAME/multi-agent-system/wiki)

---

## üó∫Ô∏è Roadmap

- [ ] Support multi-utilisateurs
- [ ] Interface web de configuration
- [ ] Support mod√®les vision (LLaVA, Qwen-VL)
- [ ] Integration Home Assistant
- [ ] Support langues suppl√©mentaires
- [ ] Mobile app (contr√¥le √† distance)
- [ ] RAG avanc√© avec documents personnels
- [ ] Fine-tuning mod√®les personnalis√©s

---

## ‚≠ê Statistiques

![GitHub stars](https://img.shields.io/github/stars/VOTRE_USERNAME/multi-agent-system?style=social)
![GitHub forks](https://img.shields.io/github/forks/VOTRE_USERNAME/multi-agent-system?style=social)
![GitHub issues](https://img.shields.io/github/issues/VOTRE_USERNAME/multi-agent-system)

---

**Construit avec ‚ù§Ô∏è pour la communaut√© open source**

‚≠ê **Si ce projet vous aide, donnez-lui une √©toile sur GitHub !**